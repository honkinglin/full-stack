(function(){var e={35358:function(e,t,a){var s={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function o(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}o.keys=function(){return Object.keys(s)},o.resolve=r,e.exports=o,o.id=35358},60627:function(e,t,a){"use strict";var s=a(53751),o=a(20641);function r(e,t){const a=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(a,{class:"router-view"})}var l=a(66262);const n={},i=(0,l.A)(n,[["render",r],["__scopeId","data-v-e31691be"]]);var d=i,u=a(75220),m=a.p+"img/logo.79b66238.png",c=a.p+"img/pic.66483254.png";const g={class:"login_page fillcontain"},p={class:"card"},h={class:"login-item"},f={class:"login-item"};function b(e,t,a,r,l,n){const i=(0,o.g2)("el-input"),d=(0,o.g2)("el-form-item"),u=(0,o.g2)("el-button"),b=(0,o.g2)("el-form");return(0,o.uX)(),(0,o.CE)("div",g,[(0,o.bo)((0,o.Lk)("section",p,[t[6]||(t[6]=(0,o.Lk)("div",{class:"left"},[(0,o.Lk)("img",{width:"148",height:"36",src:m,alt:""}),(0,o.Lk)("img",{width:"544",height:"306",src:c,alt:""})],-1)),(0,o.bF)(b,{model:l.loginForm,rules:l.rules,ref:"loginForm"},{default:(0,o.k6)((()=>[t[4]||(t[4]=(0,o.Lk)("p",{class:"welcom"},"慕慕生鲜管理系统登录",-1)),t[5]||(t[5]=(0,o.Lk)("p",{class:"welcom-tip"},"欢迎来到慕慕生鲜后台管理系统",-1)),(0,o.bF)(d,{prop:"username"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",h,[(0,o.bF)(i,{class:"input-wrapper",modelValue:l.loginForm.username,"onUpdate:modelValue":t[0]||(t[0]=e=>l.loginForm.username=e),placeholder:"请输入用户名"},null,8,["modelValue"])])])),_:1}),(0,o.bF)(d,{prop:"password"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",f,[(0,o.bF)(i,{class:"input-wrapper",type:"password",placeholder:"请输入密码",modelValue:l.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=e=>l.loginForm.password=e)},null,8,["modelValue"])])])),_:1}),(0,o.bF)(d,null,{default:(0,o.k6)((()=>[(0,o.bF)(u,{type:"primary",onClick:t[2]||(t[2]=e=>n.submitForm("loginForm")),class:"submit_btn"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)("登陆")]))),_:1})])),_:1})])),_:1},8,["model","rules"])],512),[[s.aG,l.showLogin]])])}a(44114);var k=a(72505),v=a.n(k);let y="http://127.0.0.1:8080/";function j(e){return!e||200!==e.status&&304!==e.status&&400!==e.status?{status:-404,msg:"网络异常"}:e.data}function w(e){if(-404!==e.status)if(10007!==e.status){if(9999!==e.status)return e.status,e}else window.location.href="http://127.0.0.1/admin/#/"}v().interceptors.request.use((e=>e),(e=>Promise.reject(e))),v().interceptors.response.use((e=>e),(e=>Promise.resolve(e.response))),v().defaults.withCredentials=!0;var F={post(e,t){return v()({method:"POST",baseURL:y,url:e,params:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest",jwt_token:sessionStorage.getItem("token")||null},withCredentials:!0},{withCredentials:!0}).then((e=>j(e))).then((e=>w(e)))},get(e,t){return v()({method:"get",baseURL:y,url:e,params:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest",jwt_token:sessionStorage.getItem("token")||null},withCredentials:!0},{withCredentials:!0}).then((e=>j(e))).then((e=>w(e)))}},C={login:"/adminLogin",logout:"/user/logout",goodList:"/admin/product/list",upDownGood:"/admin/product/batchUpdateSellStatus",adminStatics:"admin/order/statistics",getToken:"/loginWithJwt",categoryList:"/admin/category/list",categoryList2:"/category/list",categoryUpdate:"/admin/category/update",categoryAdd:"/admin/category/add",categoryDelete:"/admin/category/delete",goodAdd:"/admin/product/add",goodUpdate:"/admin/product/update",goodDelete:"/admin/product/delete",onOffLine:"/admin/product/batchUpdateSellStatus",orderList:"/admin/order/list",orderDerive:"/admin/order/delivered",orderFinish:"/order/finish"},A={data(){return{loginForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},showLogin:!1}},mounted(){this.showLogin=!0},computed:{},methods:{async submitForm(e){this.$refs[e].validate((async e=>{if(!e)return this.$notify.error({title:"错误",message:"请输入正确的用户名密码",offset:100}),!1;F.post(C.login,{userName:this.loginForm.username,password:this.loginForm.password}).then((e=>{1e4===e.status?(console.log("user",e.data.username),localStorage.setItem("username",e.data.username),localStorage.setItem("personalizedSignature",e.data.personalizedSignature),localStorage.setItem("role",e.data.role),F.get(C.getToken+`?userName=${this.loginForm.username}&password=${this.loginForm.password}`).then((e=>{1e4===e.status&&(sessionStorage.setItem("token",e.data),this.$router.push("good"))}))):this.$message({type:"error",message:e.msg})}))}))}}};const L=(0,l.A)(A,[["render",b],["__scopeId","data-v-99a0d3d0"]]);var S=L,V=a(90033);const U={class:"fillcontain"},_={class:"btn-wrapper"},x={class:"btn-top-wrapper"},z={class:"table-container"},N=["src"],I={class:"pagination-wrapper",style:{"text-align":"left"}},D=["src"],E={key:1,class:"el-icon-plus avatar-uploader-icon"},X={class:"dialog-footer"};function P(e,t,a,s,r,l){const n=(0,o.g2)("el-button"),i=(0,o.g2)("el-upload"),d=(0,o.g2)("el-popconfirm"),u=(0,o.g2)("el-table-column"),m=(0,o.g2)("el-table"),c=(0,o.g2)("el-pagination"),g=(0,o.g2)("el-cascader"),p=(0,o.g2)("el-form-item"),h=(0,o.g2)("el-input"),f=(0,o.g2)("el-form"),b=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",U,[(0,o.Lk)("div",_,[t[13]||(t[13]=(0,o.Lk)("div",{class:"page-title"},"商品管理",-1)),(0,o.Lk)("div",x,[(0,o.bF)(i,{class:"avatar-uploader",action:"http://127.0.0.1:8083/admin/upload/product","show-file-list":!1,"on-success":l.uploadImg,"before-upload":l.beforeImgUpload},{default:(0,o.k6)((()=>[(0,o.bF)(n,{type:"success"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("批量上传商品")]))),_:1})])),_:1},8,["on-success","before-upload"]),r.selectedIds&&r.selectedIds.length?((0,o.uX)(),(0,o.Wv)(d,{key:0,title:"请确定是否上架所选商品",onConfirm:t[0]||(t[0]=e=>l.upOffGood(1))},{reference:(0,o.k6)((()=>[(0,o.bF)(n,{type:"success"},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("上架商品")]))),_:1})])),_:1})):(0,o.Q3)("",!0),r.selectedIds&&r.selectedIds.length?((0,o.uX)(),(0,o.Wv)(d,{key:1,title:"请确定是否下架所选商品",onConfirm:t[1]||(t[1]=e=>l.upOffGood(2))},{reference:(0,o.k6)((()=>[(0,o.bF)(n,{type:"danger"},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("下架商品")]))),_:1})])),_:1})):(0,o.Q3)("",!0),(0,o.bF)(n,{onClick:l.handleAdd,type:"primary"},{default:(0,o.k6)((()=>t[12]||(t[12]=[(0,o.eW)("新增商品")]))),_:1},8,["onClick"])])]),(0,o.Lk)("div",z,[(0,o.bF)(m,{fit:!0,ref:"multipleTable",data:r.tableData,"row-key":e=>e.index,onSelectionChange:l.handleSelectionChange,style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(u,{type:"selection",width:"55"}),(0,o.bF)(u,{label:"ID",width:"50",prop:"id"}),(0,o.bF)(u,{label:"图片",width:"170",prop:"image"},{default:(0,o.k6)((e=>[(0,o.Lk)("img",{style:{maxWidth:"150px",maxHeight:"150px",borderRadius:"4px"},src:e.row.image,alt:""},null,8,N)])),_:1}),(0,o.bF)(u,{label:"名称",width:"150",prop:"name"}),(0,o.bF)(u,{label:"详情",width:"170",prop:"detail"}),(0,o.bF)(u,{label:"单价(元)",sortable:"","default-sort":{prop:"price",order:"descending"},prop:"price"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(e.row.price?e.row.price/100:null),1)])),_:1}),(0,o.bF)(u,{label:"是否上架",prop:"status"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(1===e.row.status?"已上架":"已下架"),1)])),_:1}),(0,o.bF)(u,{label:"库存",prop:"stock"}),(0,o.bF)(u,{label:"创建时间",prop:"createTime"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(l.timeFormat(e.row.createTime)),1)])),_:1}),(0,o.bF)(u,{label:"操作",prop:"status"},{default:(0,o.k6)((e=>[(0,o.bF)(n,{onClick:t=>l.handleEdit(e.row),type:"success"},{default:(0,o.k6)((()=>t[14]||(t[14]=[(0,o.eW)("修改")]))),_:2},1032,["onClick"]),(0,o.bF)(d,{title:"请确定是否删除",onConfirm:t=>l.handleDelete(e.row)},{reference:(0,o.k6)((()=>[(0,o.bF)(n,{class:"btn-delete",type:"danger"},{default:(0,o.k6)((()=>t[15]||(t[15]=[(0,o.eW)("删除")]))),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data","row-key","onSelectionChange"]),(0,o.Lk)("div",I,[(0,o.bF)(c,{onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange,"current-page":r.currentPage,"page-size":10,layout:"total, prev, pager, next",total:r.count},null,8,["onSizeChange","onCurrentChange","current-page","total"])])]),(0,o.bF)(b,{title:r.isEdit?"编辑商品":"新增商品",modelValue:r.dialogVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>r.dialogVisible=e),width:"30%"},{footer:(0,o.k6)((()=>[(0,o.Lk)("div",X,[(0,o.bF)(n,{onClick:t[7]||(t[7]=e=>r.dialogVisible=!1)},{default:(0,o.k6)((()=>t[16]||(t[16]=[(0,o.eW)("取 消")]))),_:1}),(0,o.bF)(n,{type:"primary",onClick:l.update},{default:(0,o.k6)((()=>t[17]||(t[17]=[(0,o.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,o.k6)((()=>[(0,o.bF)(f,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,o.k6)((()=>[(0,o.bF)(p,{label:"商品分类"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{modelValue:r.form.value,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.value=e),options:r.tree,"show-all-levels":!1,props:{expandTrigger:"hover"},onChange:l.handleChange},null,8,["modelValue","options","onChange"])])),_:1}),(0,o.bF)(p,{label:"商品名称"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{modelValue:r.form.name,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.name=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(p,{label:"商品简介"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{modelValue:r.form.detail,"onUpdate:modelValue":t[4]||(t[4]=e=>r.form.detail=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(p,{label:"商品库存"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{modelValue:r.form.stock,"onUpdate:modelValue":t[5]||(t[5]=e=>r.form.stock=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(p,{label:"商品售价"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{placeholder:"请填写整数，单位为分",modelValue:r.form.price,"onUpdate:modelValue":t[6]||(t[6]=e=>r.form.price=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(p,{label:"商品图片"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{headers:l.getHeader,class:"avatar-uploader avatar-uploader-dialog",action:"http://127.0.0.1:8083/admin/upload/image","show-file-list":!1,"on-success":l.handleAvatarSuccess,"before-upload":l.beforeAvatarUpload},{default:(0,o.k6)((()=>[r.form.imageUrl?((0,o.uX)(),(0,o.CE)("img",{key:0,src:r.form.imageUrl,class:"avatar-upload"},null,8,D)):((0,o.uX)(),(0,o.CE)("i",E))])),_:1},8,["headers","on-success","before-upload"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}a(81454);var O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAAAXNSR0IArs4c6QAAAlxJREFUWAntV78vBUEQ9vwsKBQagkIiEdFQSDRUolGJ1wgJEoVKp9BQavwDSiKhkgiFQiIRiVAo9ApeSIQgUQiS8825vczO7T3vPXf2XnKTfLezM7Oz381t5u4yjuNUVZSRVJYRV5dqSjjuJ5ZW2EaFF7HpO/AVghfYFwArYjoS42BSnYdNA3xrwBKQyRMXiytj6MPn2KmvwN3uEfdcYGyxYTksmAKe+MJ8leRxYXozHIQ4pBtJh4Ftntx0JLjfth4oaNIJBwqWEg6UJGJD4Iwg/xFwHfE+paa7kQtNbU3GJGrOK0zfxZ3Av78MfqnIK/x3KoYTPoZxQDkSNDrgMgnsECfeJahRJ1HoiXcpYpzwrTImcPS5lQvhnCoiP8O+UTm9kQ78HDANZAGSZWDX1cyXWphXgFGzu2irX2FO2DeKdFeYHwKNgCK8AT0sHi5XDnC1QngEG58APS6NnwvNz9hcqjUw0JdWFEJt7U0l4hUOOxIUK9tdK2z0of8foj1JTlhzMCYf0LeAIaDDs59ipFd4mNTBMQG0hQUUYdd50R+Hh3qMJtmDkWKyzNni2dRa0zjL4v+irvO9eIXpx/MRaBJ3P4g5/XSOMfsq9H02lyp1iXlpLHGuVVh+/FwgaW+JieNaNoPEmyo5f3GQTbsbFWR51JqBJKw5LRNV22tFlIQ1p1phedSKmHTC1ASoGfgiCWt340fZUwJPXBIOBNjj6u4c4CMJU4UfLJPk21/yCemyD5OtHegnxbLQBw+9/j85DxNh7k+cLo9E4ghKQilhWZGo52mFo66ozFd2Ff4GYU3+u+9+NHQAAAAASUVORK5CYII=",W="data:image/png;base64,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";const R={class:"header"},q={class:"right"};function K(e,t,a,s,r,l){const n=(0,o.g2)("el-dropdown-item"),i=(0,o.g2)("el-dropdown-menu"),d=(0,o.g2)("el-dropdown");return(0,o.uX)(),(0,o.CE)("div",R,[t[4]||(t[4]=(0,o.Lk)("div",{class:"header-left"},[(0,o.Lk)("img",{width:"50",src:O,alt:""}),(0,o.Lk)("span",{class:"page-name"},"慕慕生鲜后台管理系统")],-1)),(0,o.Lk)("div",q,[t[3]||(t[3]=(0,o.Lk)("a",{class:"page-name-yes",target:"_blank",href:"http://127.0.0.1:8080/#/index"},"慕慕生鲜",-1)),(0,o.bF)(d,{onCommand:l.handleCommand,"menu-align":"start"},{dropdown:(0,o.k6)((()=>[(0,o.bF)(i,null,{default:(0,o.k6)((()=>[(0,o.bF)(n,{command:"home"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("a",{target:"_blank",href:"http://127.0.0.1:8080/#/index"},"慕慕生鲜首页",-1)]))),_:1}),(0,o.bF)(n,{command:"signout"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("退出登陆")]))),_:1})])),_:1})])),default:(0,o.k6)((()=>[t[2]||(t[2]=(0,o.Lk)("img",{width:"32",height:"32",class:"avator",src:W,alt:""},null,-1))])),_:1},8,["onCommand"])])])}var B={data(){return{}},props:["text"],created(){},computed:{},methods:{async handleCommand(e){"signout"==e&&F.post(C.logout).then((e=>{1e4===e.status?(sessionStorage.setItem("token",null),window.location.href="http://127.0.0.1/admin/#/"):this.$message({type:"error",message:e.msg})}))}}};const T=(0,l.A)(B,[["render",K]]);var M=T;let H="http://127.0.0.1:8080/";function Q(e){return!e||200!==e.status&&304!==e.status&&400!==e.status?{status:-404,msg:"网络异常"}:e.data}function Y(e){if(-404!==e.status&&9999!==e.status)return 10007===e.status?(console.log(window.location),void(window.location.href="http://127.0.0.1/admin/#/")):(e.status,e)}v().interceptors.request.use((e=>e),(e=>Promise.reject(e))),v().interceptors.response.use((e=>e),(e=>Promise.resolve(e.response))),v().defaults.withCredentials=!0;var G={post(e,t){return v()({method:"POST",baseURL:H,url:e,data:JSON.stringify(t),timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json; charset=UTF-8",jwt_token:sessionStorage.getItem("token")||null},withCredentials:!0},{withCredentials:!0}).then((e=>Q(e))).then((e=>Y(e)))},get(e,t){return v()({method:"get",baseURL:H,url:e,params:t,timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest",jwt_token:sessionStorage.getItem("token")||null},withCredentials:!0},{withCredentials:!0}).then((e=>Q(e))).then((e=>Y(e)))}},J=a(95093),Z=a.n(J),$={data(){return{dialogVisible:!1,tableData:[],count:0,currentPage:1,selectedIds:[],isEdit:!1,tree:[],form:{name:"",value:[],imageUrl:null,detail:null,stock:null,id:null,price:null}}},components:{header:M},created(){},mounted(){this.initData(),this.getCate()},methods:{getHeader(){return{jwt_token:sessionStorage.getItem("token")||null}},handleDelete(e){G.post(C.goodDelete+"?id="+e.id,{id:e.id}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"删除成功"}),this.initData()):this.$message({type:"error",message:e.msg})}))},handleChange(e){console.log("vvv:",e)},getCate(){F.get(C.categoryList2).then((e=>{1e4===e.status?(this.tree=e.data,this.tree.map((e=>{e.value=e.id,e.label=e.name,e.childCategory.length&&(e.children=e.childCategory,e.childCategory.map((e=>{e.value=e.id,e.label=e.name,e.childCategory.length&&(e.children=e.childCategory,e.childCategory.map((e=>{e.value=e.id,e.label=e.name})))})))}))):this.$message({type:"error",message:e.msg})}))},handleAvatarSuccess(e,t){1e4===e.status?(this.form.imageUrl=e.data,this.$message({type:"success",message:"上传成功"})):this.$message({type:"error",message:e.msg})},beforeAvatarUpload(e){const t="image/jpeg"===e.type,a=e.size/1024/1024<2;return t?a?t&&a:(this.$message.error("上传图片大小不能超过 2MB!"),!1):(this.$message.error("上传图片只能是 JPG 格式!"),!1)},getCascaderFullValue(e,t){let a=[t];return s(a,e,e,t),a;function s(e,t,a,o){if(Array.isArray(t))for(let r of t){if(!Array.isArray(r.children))continue;let t=r.children.findIndex((e=>e.value===o));t>=0?(e.unshift(r.value),a.findIndex((e=>e.value===r.value))<0&&s(e,a,a,r.value)):s(e,r.children,a,o)}}},handleAdd(){this.dialogVisible=!0,this.isEdit=!1,this.form.name=null,this.form.detail=null,this.form.stock=null,this.form.price=null,this.form.imageUrl=null,this.form.id=null,this.form.value=null},uploadImg(e){1e4===e.status?this.$message({type:"success",message:"上传成功"}):this.$message({type:"error",message:e.msg})},update(){console.log("form:",this.form),G.post(`${this.isEdit?C.goodUpdate:C.goodAdd}`,{categoryId:this.form.value[this.form.value.length-1],name:this.form.name,detail:this.form.detail,stock:this.form.stock,price:this.form.price,id:this.form.id,image:this.form.imageUrl?this.form.imageUrl:null}).then((e=>{1e4===e.status?(this.dialogVisible=!1,this.initData(),this.$message({type:"success",message:""+(this.isEdit?"编辑成功":"新增成功")})):this.$message({type:"error",message:e.msg})}))},handleEdit(e){console.log("row:",e),this.isEdit=!0,this.form.name=e.name,this.form.id=e.id,this.form.value=this.getCascaderFullValue(this.tree,e.categoryId),console.log("value:",this.form.value),this.form.detail=e.detail,this.form.stock=e.stock,this.form.price=e.price,this.form.imageUrl=e.image,this.dialogVisible=!0},beforeImgUpload(e){return!0},handleDelete(e){G.post(C.goodDelete+"?id="+e.id,{id:e.id}).then((e=>{1e4===e.status?(this.initData(),this.$message({type:"success",message:"删除成功!"})):this.$message({type:"error",message:e.msg})}))},timeFormat(e){return Z()(e).format("YYYY-MM-DD HH:mm:ss")},handleSelectionChange(e){console.log("value:::",e),this.selectedIds=e},async initData(){F.get(C.goodList,{pageNum:this.currentPage,pageSize:10}).then((e=>{this.tableData=e.data.list,this.count=e.data.total}))},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,this.initData()},onSubmit(){},upOffGood(e){let t=[];this.selectedIds.map((e=>{t.push(e.id)})),1===e?F.post(C.upDownGood,{ids:t.join(","),sellStatus:1}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"上架成功!"}),this.initData()):this.$message({type:"error",message:e.msg})})):F.post(C.onOffLine,{ids:t.join(","),sellStatus:0}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"下架成功!"}),this.initData()):this.$message({type:"error",message:e.msg})}))}}};const ee=(0,l.A)($,[["render",P],["__scopeId","data-v-3d376978"]]);var te=ee;const ae={class:"manage_page fillcontain"},se={class:"page",style:{height:"100%"}};function oe(e,t,a,s,r,l){const n=(0,o.g2)("Header"),i=(0,o.g2)("el-menu-item"),d=(0,o.g2)("el-menu"),u=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",ae,[(0,o.bF)(n),(0,o.Lk)("div",se,[(0,o.bF)(d,{"default-active":l.defaultActive,class:"menu",style:{"min-height":"100%"},theme:"dark",router:""},{default:(0,o.k6)((()=>[(0,o.bF)(i,{index:"good"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("i",{class:"el-icon-goods"},null,-1),(0,o.eW)("商品管理")]))),_:1}),(0,o.bF)(i,{index:"type"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.Lk)("i",{class:"el-icon-menu"},null,-1),(0,o.eW)("分类管理")]))),_:1}),(0,o.bF)(i,{index:"order"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.Lk)("i",{class:"el-icon-document-copy"},null,-1),(0,o.eW)("订单管理")]))),_:1}),(0,o.bF)(i,{index:"person"},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.Lk)("i",{class:"el-icon-user"},null,-1),(0,o.eW)("个人信息")]))),_:1})])),_:1},8,["default-active"]),(0,o.bF)(u)])])}var re={computed:{defaultActive:function(){return this.$route.path.replace("/","")}},components:{Header:M}};const le=(0,l.A)(re,[["render",oe],["__scopeId","data-v-30566ae6"]]);var ne=le;const ie={class:"fillcontain"},de={class:"btn-wrapper"},ue={class:"table-container"},me=["src"],ce={key:0},ge={key:1},pe={key:2},he={key:3},fe={key:4},be={class:"table-btns"},ke={class:"pagination-wrapper",style:{"text-align":"left"}};function ve(e,t,a,s,r,l){const n=(0,o.g2)("el-button"),i=(0,o.g2)("el-table-column"),d=(0,o.g2)("el-table"),u=(0,o.g2)("el-popconfirm"),m=(0,o.g2)("el-pagination"),c=(0,o.g2)("el-input"),g=(0,o.g2)("el-form-item"),p=(0,o.g2)("el-form"),h=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",ie,[(0,o.Lk)("div",de,[t[6]||(t[6]=(0,o.Lk)("div",{class:"page-title"},"订单管理",-1)),(0,o.bF)(n,{type:"primary",onClick:l.staticFn},{default:(0,o.k6)((()=>t[5]||(t[5]=[(0,o.eW)("订单统计")]))),_:1},8,["onClick"])]),(0,o.Lk)("div",ue,[(0,o.bF)(d,{data:r.tableData,"row-key":e=>e.orderNo,style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{type:"expand"},{default:(0,o.k6)((e=>[(0,o.bF)(d,{data:e.row.orderItemVOList,style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{label:"商品名称",prop:"productName"}),(0,o.bF)(i,{label:"商品图片",prop:"productName"},{default:(0,o.k6)((e=>[(0,o.Lk)("img",{src:e.row.productImg,width:"50",alt:""},null,8,me)])),_:1}),(0,o.bF)(i,{label:"商品单价(元)",prop:"unitPrice"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(e.row.unitPrice?e.row.unitPrice/100:null),1)])),_:1}),(0,o.bF)(i,{label:"商品数量",prop:"quantity"}),(0,o.bF)(i,{label:"商品总价(元)",prop:"totalPrice"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(e.row.totalPrice?e.row.totalPrice/100:null),1)])),_:1})])),_:2},1032,["data"])])),_:1}),(0,o.bF)(i,{label:"订单号",prop:"orderNo"}),(0,o.bF)(i,{label:"订单总价(元)",prop:"totalPrice"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(e.row.totalPrice?e.row.totalPrice/100:null),1)])),_:1}),(0,o.bF)(i,{label:"订单状态",prop:"orderStatus"},{default:(0,o.k6)((e=>[0===e.row.orderStatus?((0,o.uX)(),(0,o.CE)("div",ce,"用户已取消")):(0,o.Q3)("",!0),10===e.row.orderStatus?((0,o.uX)(),(0,o.CE)("div",ge,"未付款")):(0,o.Q3)("",!0),20===e.row.orderStatus?((0,o.uX)(),(0,o.CE)("div",pe,"已付款")):(0,o.Q3)("",!0),30===e.row.orderStatus?((0,o.uX)(),(0,o.CE)("div",he,"已发货")):(0,o.Q3)("",!0),40===e.row.orderStatus?((0,o.uX)(),(0,o.CE)("div",fe,"交易完成")):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(i,{label:"创建时间",prop:"createTime"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(l.timeFormat(e.row.createTime)),1)])),_:1}),(0,o.bF)(i,{label:"操作",prop:"status"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",be,[(0,o.bF)(n,{onClick:t=>l.handleEdit(e.row,!1),type:"danger"},{default:(0,o.k6)((()=>t[7]||(t[7]=[(0,o.eW)("查看收件人信息")]))),_:2},1032,["onClick"]),30!==e.row.orderStatus&&40!==e.row.orderStatus?((0,o.uX)(),(0,o.Wv)(u,{key:0,title:"请确认是否已发货？",confirmButtonText:"是",cancelButtonText:"否",onConfirm:t=>l.startFn(e.row)},{reference:(0,o.k6)((()=>[(0,o.bF)(n,{type:"success"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("发货")]))),_:1})])),_:2},1032,["onConfirm"])):(0,o.Q3)("",!0),40!==e.row.orderStatus?((0,o.uX)(),(0,o.Wv)(u,{key:1,confirmButtonText:"是",cancelButtonText:"否",onConfirm:t=>l.finishFn(e.row),title:"请确认订单是否已完结？"},{reference:(0,o.k6)((()=>[(0,o.bF)(n,{type:"success"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("订单完结")]))),_:1})])),_:2},1032,["onConfirm"])):(0,o.Q3)("",!0)])])),_:1})])),_:1},8,["data","row-key"]),(0,o.Lk)("div",ke,[(0,o.bF)(m,{onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange,"current-page":r.currentPage,"page-size":10,layout:"total, prev, pager, next",total:r.count},null,8,["onSizeChange","onCurrentChange","current-page","total"])])]),(0,o.bF)(h,{title:"详细信息",modelValue:r.dialogVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>r.dialogVisible=e),width:"30%"},{footer:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.Lk)("div",{class:"dialog-footer"},null,-1)]))),default:(0,o.k6)((()=>[(0,o.bF)(p,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{label:"收件人"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{disabled:"",modelValue:r.form.receiverName,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.receiverName=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,{label:"电话"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{disabled:"",modelValue:r.form.receiverMobile,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.receiverMobile=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,{label:"收件地址"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{disabled:"",modelValue:r.form.receiverAddress,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.receiverAddress=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,o.bF)(h,{title:"统计",modelValue:r.staticTrue,"onUpdate:modelValue":t[4]||(t[4]=e=>r.staticTrue=e),width:"50%"},{footer:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.Lk)("span",{class:"dialog-footer"},null,-1)]))),default:(0,o.k6)((()=>[t[12]||(t[12]=(0,o.Lk)("div",{id:"chart-dom"},null,-1))])),_:1},8,["modelValue"])])}var ye=a(3087),je=a(14917),we=a(29668),Fe=a(7818),Ce=a(74064),Ae=a(73416),Le=a(30260),Se=a(5690),Ve=a(36494),Ue=a(79785),_e=a(76411);ye.Y([Fe.a,Ce.a,Ae.a,Le.a,Se.a,Ve.a,Ue.a,_e.a]);var xe={data(){return{dialogVisible:!1,tableData:[],staticTrue:!1,orderData:[],count:0,currentPage:1,isOrder:!1,form:{orderNo:null,productName:null,unitPrice:null,quantity:null,totalPrice:null,receiverName:null,receiverMobile:null,receiverAddress:null}}},components:{header:M},created(){},mounted(){this.initData()},methods:{handleEdit(e,t){console.log("row:",e),this.isOrder=t,this.orderData=e.orderItemVOList,this.dialogVisible=!0,this.form.orderNo=e.orderNo,this.form.productName=e.productName,this.form.unitPrice=(e.unitPrice/100).toFixed(2),this.form.quantity=e.quantity,this.form.totalPrice=(e.totalPrice/100).toFixed(2),this.form.receiverName=e.receiverName,this.form.receiverMobile=e.receiverMobile,this.form.receiverAddress=e.receiverAddress},timeFormat(e){return Z()(e).format("YYYY-MM-DD HH:mm:ss")},async initData(){F.get(C.orderList,{pageNum:this.currentPage,pageSize:10}).then((e=>{console.log("res:",e),this.tableData=e.data.list,this.count=e.data.total}))},handleSizeChange(e){console.log(`每页 ${e} 条`)},handleCurrentChange(e){this.currentPage=e,this.initData()},startFn(e){F.post(C.orderDerive,{orderNo:e.orderNo}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"发货成功!"}),this.initData()):this.$message({type:"error",message:e.msg})}))},finishFn(e){F.post(C.orderFinish,{orderNo:e.orderNo}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"订单成功完结!"}),this.initData()):this.$message({type:"error",message:e.msg})}))},onSubmit(){},getstcData(){F.get(C.adminStatics,{startDate:"2019-02-01",endDate:"2030-10-01"}).then((e=>{let t=[],a=[];e.data&&e.data.map((e=>{t.push(e.days.substring(0,11)),a.push(e.amount)}));var s=je.Ts(document.getElementById("chart-dom"));s.setOption({title:{text:"订单趋势图"},tooltip:{},xAxis:{axisLabel:{inside:!0,textStyle:{color:"#fff"}},axisTick:{show:!1},axisLine:{show:!1},data:t},yAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#999"}}},series:[{name:"日期-订单量",type:"bar",itemStyle:{color:new we.A(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#7bbfea"}])},label:{show:!0,position:"inside"},data:a},{name:"日期-订单量",type:"line",data:a}]})}))},staticFn(){this.staticTrue=!0,this.getstcData()}}};const ze=(0,l.A)(xe,[["render",ve],["__scopeId","data-v-6343bcb5"]]);var Ne=ze;const Ie={class:"box-card-container"},De={class:"box-card"};function Ee(e,t,a,s,r,l){const n=(0,o.g2)("el-input"),i=(0,o.g2)("el-form-item"),d=(0,o.g2)("el-form");return(0,o.uX)(),(0,o.CE)("div",Ie,[t[2]||(t[2]=(0,o.Lk)("div",{class:"btn-wrapper"},[(0,o.Lk)("div",{class:"page-title"},"基本信息")],-1)),(0,o.Lk)("div",De,[(0,o.bF)(d,{ref:"form",model:r.form,"label-width":"80px"},{default:(0,o.k6)((()=>[(0,o.bF)(i,{label:"用户名"},{default:(0,o.k6)((()=>[(0,o.bF)(n,{disabled:"",modelValue:r.form.username,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.username=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(i,{label:"个性签名"},{default:(0,o.k6)((()=>[(0,o.bF)(n,{disabled:"",modelValue:r.form.personalizedSignature,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.personalizedSignature=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])}var Xe={data(){return{form:{username:localStorage.getItem("username"),personalizedSignature:localStorage.getItem("personalizedSignature")}}},components:{header:M},created(){},methods:{}};const Pe=(0,l.A)(Xe,[["render",Ee]]);var Oe=Pe;const We={class:"fillcontain"},Re={class:"btn-wrapper"},qe={class:"btn-top"},Ke={class:"table-container"},Be={class:"pagination-wrapper",style:{"text-align":"left"}},Te={class:"dialog-footer"};function Me(e,t,a,s,r,l){const n=(0,o.g2)("el-button"),i=(0,o.g2)("el-table-column"),d=(0,o.g2)("el-popconfirm"),u=(0,o.g2)("el-table"),m=(0,o.g2)("el-pagination"),c=(0,o.g2)("el-input"),g=(0,o.g2)("el-form-item"),p=(0,o.g2)("el-form"),h=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.CE)("div",We,[(0,o.Lk)("div",Re,[t[7]||(t[7]=(0,o.Lk)("div",{class:"page-title"},"分类管理",-1)),(0,o.Lk)("div",qe,[(0,o.bF)(n,{onClick:l.handleAdd,type:"primary"},{default:(0,o.k6)((()=>t[6]||(t[6]=[(0,o.eW)("新增分类")]))),_:1},8,["onClick"])])]),(0,o.Lk)("div",Ke,[(0,o.bF)(u,{border:"",data:r.tableData,"row-key":e=>e.index,style:{width:"100%"}},{default:(0,o.k6)((()=>[(0,o.bF)(i,{label:"ID",prop:"id"}),(0,o.bF)(i,{label:"名称",prop:"name"}),(0,o.bF)(i,{label:"排序",prop:"orderNum"}),(0,o.bF)(i,{label:"创建时间",prop:"orderNum"},{default:(0,o.k6)((e=>[(0,o.Lk)("div",null,(0,V.v_)(l.timeFormat(e.row.createTime)),1)])),_:1}),(0,o.bF)(i,{label:"操作",prop:"status"},{default:(0,o.k6)((e=>[(0,o.bF)(d,{title:"请确定是否删除",onConfirm:t=>l.handleDelete(e.row)},{reference:(0,o.k6)((()=>[(0,o.bF)(n,{type:"danger"},{default:(0,o.k6)((()=>t[8]||(t[8]=[(0,o.eW)("删除")]))),_:1})])),_:2},1032,["onConfirm"]),(0,o.bF)(n,{onClick:t=>l.handleEdit(e.row),type:"success"},{default:(0,o.k6)((()=>t[9]||(t[9]=[(0,o.eW)("修改")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","row-key"]),(0,o.Lk)("div",Be,[(0,o.bF)(m,{onCurrentChange:l.handleCurrentChange,"current-page":r.currentPage,"page-size":10,layout:"total, prev, pager, next",total:r.count},null,8,["onCurrentChange","current-page","total"])])]),(0,o.bF)(h,{title:r.isEdit?"编辑分类":"新增分类",modelValue:r.dialogVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>r.dialogVisible=e),width:"30%"},{footer:(0,o.k6)((()=>[(0,o.Lk)("div",Te,[(0,o.bF)(n,{onClick:t[4]||(t[4]=e=>r.dialogVisible=!1)},{default:(0,o.k6)((()=>t[10]||(t[10]=[(0,o.eW)("取 消")]))),_:1}),(0,o.bF)(n,{type:"primary",onClick:l.update},{default:(0,o.k6)((()=>t[11]||(t[11]=[(0,o.eW)("确 定")]))),_:1},8,["onClick"])])])),default:(0,o.k6)((()=>[(0,o.bF)(p,{ref:"form",model:r.form,"label-width":"90px"},{default:(0,o.k6)((()=>[(0,o.bF)(g,{label:"新增分类"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:r.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>r.form.name=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,{label:"排序值"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:r.form.orderNum,"onUpdate:modelValue":t[1]||(t[1]=e=>r.form.orderNum=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,{label:"目录级别"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:r.form.type,"onUpdate:modelValue":t[2]||(t[2]=e=>r.form.type=e)},null,8,["modelValue"])])),_:1}),(0,o.bF)(g,{label:"上级目录ID"},{default:(0,o.k6)((()=>[(0,o.bF)(c,{modelValue:r.form.parentId,"onUpdate:modelValue":t[3]||(t[3]=e=>r.form.parentId=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["title","modelValue"])])}var He={data(){return{dialogVisible:!1,tableData:[],isEdit:!1,count:0,currentPage:1,form:{name:null,id:null,orderNum:null,type:null,parentId:null}}},components:{Header:M},created(){this.initData()},mounted(){},methods:{handleDelete(e){F.post(C.categoryDelete,{id:e.id}).then((e=>{1e4===e.status?(this.$message({type:"success",message:"删除成功"}),this.initData()):this.$message({type:"error",message:e.msg})}))},update(){let e="";e=this.isEdit?C.categoryUpdate:C.categoryAdd,G.post(e,{id:this.form.id,name:this.form.name,orderNum:this.form.orderNum,type:this.form.type,parentId:this.form.parentId}).then((e=>{1e4===e.status?(this.dialogVisible=!1,this.$message({type:"success",message:""+(this.isEdit?"编辑成功":"新增成功")}),this.initData()):this.$message({type:"error",message:e.msg})}))},handleAdd(){this.dialogVisible=!0,this.isEdit=!1,this.form.name=null,this.form.orderNum=null,this.form.type=null,this.form.id=null,this.form.parentId=null},handleEdit(e){console.log("row:",e),this.dialogVisible=!0,this.isEdit=!0,this.form.name=e.name,this.form.orderNum=e.orderNum,this.form.type=e.type,this.form.id=e.id,this.form.parentId=e.parentId},timeFormat(e){return Z()(e).format("YYYY-MM-DD HH:mm:ss")},async initData(){F.get(C.categoryList,{pageNum:this.currentPage,pageSize:10}).then((e=>{this.tableData=e.data.list,this.count=e.data.total}))},handleCurrentChange(e){this.currentPage=e,this.initData()},onSubmit(){}}};const Qe=(0,l.A)(He,[["render",Me],["__scopeId","data-v-563e7fbb"]]);var Ye=Qe;const Ge=[{path:"/",name:"login",component:S},{path:"/manage",component:ne,name:"",children:[{path:"/type",component:Ye},{path:"/good",component:te},{path:"/person",component:Oe},{path:"/order",component:Ne}]}],Je=(0,u.aE)({history:(0,u.Bt)(""),routes:Ge});var Ze=Je,$e=a(79737);const et=(0,s.Ef)(d);et.use(Ze),et.use($e.Ay),et.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,r){if(!s){var l=1/0;for(u=0;u<e.length;u++){s=e[u][0],o=e[u][1],r=e[u][2];for(var n=!0,i=0;i<s.length;i++)(!1&r||l>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(n=!1,r<l&&(l=r));if(n){e.splice(u--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p=""}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,l=s[0],n=s[1],i=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var u=i(a)}for(t&&t(s);d<l.length;d++)r=l[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},s=self["webpackChunkvue3_mall_admin_v2"]=self["webpackChunkvue3_mall_admin_v2"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(60627)}));s=a.O(s)})();
//# sourceMappingURL=app.f40cba10.js.map